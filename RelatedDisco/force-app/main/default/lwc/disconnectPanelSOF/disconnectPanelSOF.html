<!-- sldsValidatorIgnore -->
<!-- sldsValidatorIgnore -->
<template>
    <lightning-card title="Disconnection Task List">
        <lightning-spinner
            if:true={isLoading}
            alternative-text="Loading"
            size="large"
        ></lightning-spinner>
        <template if:false={isLoading}>
            <template if:false={isDiscoInProg}>
                <lightning-card>
                    <lightning-input
                        style="width: 300px;"
                        type="date"
                        label="Enter Customer Requested Disconnect Date"
                        value={selectedDate}
                        onchange={handleDateChange}
                    ></lightning-input>
                </lightning-card>
                <lightning-button
                    variant="brand"
                    label="Disconnect"
                    onclick={initiateDisconnect}
                ></lightning-button>
            </template>

            <template if:true={isDiscoInProg}>
                <template if:true={isLoading}>
                    <lightning-spinner
                        alternative-text="Loading"
                        size="large"
                    ></lightning-spinner>
                </template>
                <template if:false={isLoading}>
                    <template if:true={noProjectFound}>
                        No Project Found
                    </template>
                    <template if:false={noProjectFound}>
                        <lightning-card>
                            <lightning-datatable
                                key-field="Id"
                                data={taskData}
                                show-row-number-column="true"
                                columns={columns}
                                oncellchange={onCellChange}
                                errors={errors}
                                draft-values={draftValues}
                                hide-checkbox-column="true"
                            ></lightning-datatable>
                        </lightning-card>
                    </template>
                </template>
                <template if:true={hasTasks}>
            
                    <lightning-button
                        class="slds-var-m-around_x-small"
                        variant="brand"
                        label="Update Tasks"
                        onclick={updateTasks}
                    ></lightning-button>
            
                    <lightning-button
                        class="slds-var-m-around_x-small"
                        variant="brand"
                        label="Cancel Update"
                        onclick={handleCancel}
                    ></lightning-button>
            
                </template>
            
            </template>
        </template>
        

    </lightning-card>

    
</template>